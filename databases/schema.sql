CREATE TABLE sqlite_sequence(name,seq);
CREATE TABLE IF NOT EXISTS "feature_section" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar NOT NULL);
CREATE TABLE IF NOT EXISTS "media_file" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "filename" varchar NOT NULL, CONSTRAINT "UQ_cfbea6d6f255ad56a8773f942e4" UNIQUE ("filename"));
CREATE TABLE IF NOT EXISTS "user" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar NOT NULL, "password" varchar NOT NULL, CONSTRAINT "UQ_e12875dfb3b1d92d7d7c5377e22" UNIQUE ("email"));
CREATE TABLE IF NOT EXISTS "product" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "price" integer NOT NULL, "description" varchar NOT NULL);
CREATE TABLE IF NOT EXISTS "limited_time_offer" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "price" integer NOT NULL, "startDate" varchar NOT NULL, "endDate" varchar NOT NULL, "productId" integer, CONSTRAINT "FK_1b4ca9b8e0b5628b6a6c111ce43" FOREIGN KEY ("productId") REFERENCES "product" ("id") ON DELETE NO ACTION ON UPDATE NO ACTION);
CREATE TABLE IF NOT EXISTS "product_media" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "isThumbnail" boolean NOT NULL, "productId" integer, "fileId" integer, CONSTRAINT "FK_50e3945c6150d80b69b5f18515a" FOREIGN KEY ("productId") REFERENCES "product" ("id") ON DELETE NO ACTION ON UPDATE NO ACTION, CONSTRAINT "FK_351ac0e2ab6542a3a6a9f6a6ccc" FOREIGN KEY ("fileId") REFERENCES "media_file" ("id") ON DELETE NO ACTION ON UPDATE NO ACTION);
CREATE TABLE IF NOT EXISTS "shopping_cart_item" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" integer NOT NULL, "productId" integer, "orderId" integer, CONSTRAINT "FK_54ae5bb4222e2d64ace88dc1416" FOREIGN KEY ("productId") REFERENCES "product" ("id") ON DELETE NO ACTION ON UPDATE NO ACTION, CONSTRAINT "FK_c507c787f3509344bb0ef02fb97" FOREIGN KEY ("orderId") REFERENCES "order" ("id") ON DELETE NO ACTION ON UPDATE NO ACTION);
CREATE UNIQUE INDEX "IDX_731563ae58c50488c41a689555" ON "shopping_cart_item" ("orderId", "productId") ;
CREATE TABLE IF NOT EXISTS "order" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "zipCode" varchar NOT NULL, "address" varchar NOT NULL, "isOrdered" boolean NOT NULL, "userId" integer, CONSTRAINT "FK_caabe91507b3379c7ba73637b84" FOREIGN KEY ("userId") REFERENCES "user" ("id") ON DELETE NO ACTION ON UPDATE NO ACTION);
CREATE TABLE IF NOT EXISTS "profile" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "userId" integer, "avatarId" integer, CONSTRAINT "REL_a24972ebd73b106250713dcddd" UNIQUE ("userId"), CONSTRAINT "FK_a24972ebd73b106250713dcddd9" FOREIGN KEY ("userId") REFERENCES "user" ("id") ON DELETE NO ACTION ON UPDATE NO ACTION, CONSTRAINT "FK_65588ca8ac212b8357637794d6f" FOREIGN KEY ("avatarId") REFERENCES "media_file" ("id") ON DELETE NO ACTION ON UPDATE NO ACTION);
CREATE TABLE IF NOT EXISTS "review" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "postedAt" varchar NOT NULL, "comment" varchar NOT NULL, "productId" integer, "userId" integer, CONSTRAINT "FK_2a11d3c0ea1b2b5b1790f762b9a" FOREIGN KEY ("productId") REFERENCES "product" ("id") ON DELETE NO ACTION ON UPDATE NO ACTION, CONSTRAINT "FK_1337f93918c70837d3cea105d39" FOREIGN KEY ("userId") REFERENCES "user" ("id") ON DELETE NO ACTION ON UPDATE NO ACTION);
CREATE TABLE IF NOT EXISTS "feature_item" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "sectionId" integer, "productId" integer, CONSTRAINT "FK_1e8ee32fbb990fd153229967a8f" FOREIGN KEY ("sectionId") REFERENCES "feature_section" ("id") ON DELETE NO ACTION ON UPDATE NO ACTION, CONSTRAINT "FK_b125400ef8da8cdacee92a169cd" FOREIGN KEY ("productId") REFERENCES "product" ("id") ON DELETE NO ACTION ON UPDATE NO ACTION);
CREATE TABLE IF NOT EXISTS "recommendation" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "productId" integer, CONSTRAINT "REL_9d29c6837dd5ee8e47d209e351" UNIQUE ("productId"), CONSTRAINT "FK_9d29c6837dd5ee8e47d209e3513" FOREIGN KEY ("productId") REFERENCES "product" ("id") ON DELETE NO ACTION ON UPDATE NO ACTION);
